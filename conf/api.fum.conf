# MODIFICATIONS VIA FUM DEPLOYMENT -- MANUAL CHANGES WILL BE OVERRIDDEN ON NEXT DEPLOYMENT

<IfModule mod_ssl.c>
<VirtualHost 212.68.22.57:443>
    ServerName apifum.futurice.com
    ServerAdmin webmaster@localhost
    DocumentRoot /srv/www/fum/www

    WSGIDaemonProcess fumapi python-path=/srv/www/fum/venv/lib/python2.7/site-packages processes=4 maximum-requests=10000 threads=1 user=www-data group=www-data home=/srv/www/fum/www
    WSGIProcessGroup fumapi
    WSGIScriptAlias / /srv/www/fum/www/fum/wsgi/api.py
    WSGIPassAuthorization On
    
    Alias /static /srv/www/fum/www/static
    Alias /media /srv/www/fum/media

    <Location />
        Allow from all
    </Location>

	ErrorLog ${APACHE_LOG_DIR}/error.log
	LogLevel warn
	CustomLog ${APACHE_LOG_DIR}/ssl_access.log combined

	SSLEngine on
	SSLCertificateFile /etc/apache2/godaddy/api.fum.futurice.com.crt
	SSLCertificateKeyFile /etc/apache2/godaddy/api.fum.futurice.com.key
	SSLCACertificateFile /etc/apache2/godaddy/gd_bundle.crt

	BrowserMatch "MSIE [2-6]" \
		nokeepalive ssl-unclean-shutdown \
		downgrade-1.0 force-response-1.0
	# MSIE 7 and newer should be able to use keepalive
	BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown

</VirtualHost>
</IfModule>